webpackJsonp([13],{1041:function(e,a,t){"use strict";function r(){return function(e,a){e({type:f.i}),e({type:C,payload:{type:"page",value:1}}),e({type:C,payload:{type:"sizeperpage",value:10}}),e({type:f.g,payload:!0}),m.a.get(y.a.api.get_crf_templates,{params:{page:a().casereportform.page,page_size:a().casereportform.sizeperpage}}).then(function(a){e({type:h,payload:a.data}),e({type:f.g,payload:!1})}).catch(function(a){e({type:f.g,payload:!1}),e({type:f.h,showBanner:!0,showTime:3e3,showType:"error",showMessage:a.message})})}}function o(){return function(e,a){var t=a().casereportform.searchParam,r=t?{page:a().casereportform.page,page_size:a().casereportform.sizeperpage,searchParam:a().casereportform.searchParam}:{page:a().casereportform.page,page_size:a().casereportform.sizeperpage};a().casereportform.sortName&&(r.sortName=a().casereportform.sortName,r.sortOrder=a().casereportform.sortOrder),e({type:f.g,payload:!0}),m.a.get(y.a.api.get_crf_templates,{params:r}).then(function(a){e({type:h,payload:a.data}),e({type:f.g,payload:!1})}).catch(function(a){e({type:f.g,payload:!1}),e({type:f.h,showBanner:!0,showTime:3e3,showType:"error",showMessage:a.message})})}}function n(e,a){return function(t,r){t({type:C,payload:{type:"page",value:e}}),t({type:C,payload:{type:"sizeperpage",value:a}}),t(o())}}function s(e,a){return function(t,r){return t({type:C,payload:{type:"sortName",value:e}}),t({type:C,payload:{type:"sortOrder",value:a}}),t(o())}}function p(e){return function(a,t){a({type:g,payload:e}),a({type:f.h,payload:!0,showTime:null,showType:"warning",showMessage:"Are you sure you want to delete this CRF template ?",messageTitle:"Delete CRF Template",successCb:function(){var e="/clinical/crftemplates/"+t().casereportform.deletableCrfId+"/";a({type:f.g,payload:!0}),m.a.delete(e).then(function(e){a({type:f.g,payload:!1}),a({type:C,payload:{type:"page",value:1}}),a(o()),a({type:f.i}),a({type:f.h,payload:!0,showTime:3e3,showType:"success",showMessage:"CRF template Successfully Deleted"})}).catch(function(e){a({type:f.g,payload:!1});var t="Unable to delete CRF";if(e.response.data.errors){var r=e.response.data.errors;r.crf_templates&&(t=r.crf_templates)}return a({type:f.h,payload:!0,showTime:3e3,showType:"error",showMessage:t})})}})}}function l(e){return function(a,t){var r=e&&e.target?e.target.value.replace(/^[ ]+|[ ]+$/g,""):"";a({type:C,payload:{type:"searchParam",value:r}}),a({type:C,payload:{type:"page",value:1}}),a(o())}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,a=arguments[1],t=v[a.type];return t?t(e,a):e}Object.defineProperty(a,"__esModule",{value:!0}),a.GetCRFs=r,a.OnPageChanged=n,a.SortChange=s,a.DeleteModal=p,a.SearchCRF=l,a.default=c;var i,u=t(449),d=t.n(u),m=t(447),f=t(247),y=t(250),h="CRFS_LIST",g="DELETE_MODAL_TOGGLE",C="SET_PROPS",v=(i={},d()(i,h,function(e,a){var t=[];return a.payload&&a.payload.results&&a.payload.results.map(function(e){e.total_questions=e.questions?e.questions.length:0,t.push(e)}),Object.assign({},e,{crfData:t,totalCount:a.payload.count})}),d()(i,g,function(e,a){return Object.assign({},e,{deletableCrfId:a.payload})}),d()(i,"SEARCH_CRF",function(e,a){return Object.assign({},e)}),d()(i,C,function(e,a){return Object.assign({},e,d()({},a.payload.type,a.payload.value))}),i),E={crfData:null,deleteModal:null,showDeleteModal:!1,deletableCrfId:null}},1056:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t(111),o=t(1319),n=t(1041),s=function(e){return{CrfData:e.casereportform.crfData,TotalCount:e.casereportform.totalCount,currentPage:e.casereportform.currentPage,page:e.casereportform.page}},p={GetCRFs:n.GetCRFs,DeleteModal:n.DeleteModal,SearchCRF:n.SearchCRF,OnPageChanged:n.OnPageChanged,SortChange:n.SortChange};a.default=t.i(r.connect)(s,p)(o.a)},1319:function(e,a,t){"use strict";var r=t(449),o=t.n(r),n=t(2),s=t.n(n),p=t(46),l=t.n(p),c=t(4),i=t.n(c),u=t(3),d=t.n(u),m=t(0),f=t.n(m),y=t(451),h=(t.n(y),t(108)),g=t(452),C=(t.n(g),t(57),t(1374)),v=(t.n(C),function(e){function a(){return s()(this,a),i()(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return d()(a,e),l()(a,[{key:"componentWillMount",value:function(){this.props.GetCRFs()}},{key:"render",value:function(){var e=this,a=function(e,a){return f.a.createElement("span",{className:"file-data",title:e},e)},t=function(){return f.a.createElement(h.b,{className:"add-case-report",onClick:function(){return e.props.router.push("casereportform/managecasereportform")}},f.a.createElement("i",{className:"fa fa-plus"})," Add CRF")},r=function(a,t){var r="casereportform/managecasereportform/"+t.id;return f.a.createElement("div",null,f.a.createElement("span",{className:"edit-button"},f.a.createElement(h.b,{bsStyle:"primary",onClick:function(){return e.props.router.push(r)},title:"Edit CRF"},f.a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"}))),f.a.createElement("span",{className:"delete-button"},f.a.createElement(h.b,{bsStyle:"danger",onClick:function(){return e.props.DeleteModal(t.id)},title:"Delete CRF"},f.a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"}))))},n=function(){return f.a.createElement(h.r,{className:"search-questions"},f.a.createElement("input",{type:"text",placeholder:"Search CRF",onChange:function(a){return e.props.SearchCRF(a)},className:"form-control"}),f.a.createElement(h.r.Addon,null,f.a.createElement("i",{className:"fa fa-search"})))},s={btnGroup:t,onPageChange:this.props.OnPageChanged,paginationShowsTotal:!0,page:this.props.page,searchField:n,sizePerPageList:[{text:"10",value:10},{text:"25",value:25},{text:"50",value:50}],onSortChange:this.props.SortChange};return f.a.createElement("div",null,f.a.createElement("br",null),this.props.children?this.props.children:f.a.createElement("div",{className:"container"},f.a.createElement("div",{className:"container"},f.a.createElement("div",{className:"row"},f.a.createElement(y.BootstrapTable,{data:this.props.CrfData,pagination:!0,striped:!0,hover:!0,fetchInfo:{dataTotalSize:this.props.TotalCount},search:!0,options:s,remote:!0},f.a.createElement(y.TableHeaderColumn,{dataFormat:a,dataSort:!0,dataField:"name",isKey:!0},"CRF Name"),f.a.createElement(y.TableHeaderColumn,{dataFormat:a,dataSort:!0,dataField:"description"},"CRF Description"),f.a.createElement(y.TableHeaderColumn,{dataFormat:a,dataField:"total_questions"},"Total Question"),f.a.createElement(y.TableHeaderColumn,o()({dataFormat:a},"dataFormat",r),"Actions"))))))}}]),a}(m.Component));a.a=v},1374:function(e,a){}});
//# sourceMappingURL=13.ebb6a4315c1bceebec2f.js.map